# üöÄ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ REST API —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞–º–∏

REST API –Ω–∞ –æ—Å–Ω–æ–≤–µ Flask –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞–º–∏ –∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º–∏ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏ —Ä–∞—Å—á–µ—Ç–∞ –ø–ª–∞—Ç–µ–∂–µ–π.

## üìö –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
- [–û–±–∑–æ—Ä](#-–æ–±–∑–æ—Ä)
- [–ë–∞–∑–æ–≤—ã–π URL](#-–±–∞–∑–æ–≤—ã–π-url)
- [–ö–æ–Ω–µ—á–Ω—ã–µ —Ç–æ—á–∫–∏ API](#-–∫–æ–Ω–µ—á–Ω—ã–µ-—Ç–æ—á–∫–∏-api)
  - [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞–º–∏](#-—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-–∫–ª–∏–µ–Ω—Ç–∞–º–∏)
  - [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º–∏](#-—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º–∏)
- [–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫](#%EF%B8%8F-–æ–±—Ä–∞–±–æ—Ç–∫–∞-–æ—à–∏–±–æ–∫)
- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#-–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
- [–ü—Ä–∏–º–µ—á–∞–Ω–∏—è](#-–ø—Ä–∏–º–µ—á–∞–Ω–∏—è)

## üåê –û–±–∑–æ—Ä
![Flask](https://img.shields.io/badge/Framework-Flask-green) ![SQLite](https://img.shields.io/badge/Database-SQLite-blue)

–≠—Ç–æ—Ç API –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ–Ω–µ—á–Ω—ã–µ —Ç–æ—á–∫–∏ –¥–ª—è:
- üßëüíº –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞–º–∏ (CRUD-–æ–ø–µ—Ä–∞—Ü–∏–∏)
- üßÆ –†–∞—Å—á–µ—Ç–∞ –ø–ª–∞—Ç–µ–∂–µ–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ñ–æ—Ä–º—É–ª
- üë®üíª –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º–∏ (–î–æ–±–∞–≤–ª–µ–Ω–∏–µ/–£–¥–∞–ª–µ–Ω–∏–µ/–ü—Ä–æ—Å–º–æ—Ç—Ä)

## üîó –ë–∞–∑–æ–≤—ã–π URL
```
http://<your-server-ip>:5000/
```

## üì° –ö–æ–Ω–µ—á–Ω—ã–µ —Ç–æ—á–∫–∏ API

### üìã –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞–º–∏

#### 1. ‚ûï –î–æ–±–∞–≤–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞
**`POST`** `/add_client`

–î–æ–±–∞–≤–ª—è–µ—Ç –Ω–æ–≤–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞ —Å —É–∫–∞–∑–∞–Ω–Ω–æ–π —Ñ–æ—Ä–º—É–ª–æ–π —Ä–∞—Å—á–µ—Ç–∞ –ø–ª–∞—Ç–µ–∂–µ–π.

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
    "name": "client1",
    "formula": "payment * 0.1"
}
```

**–û—Ç–≤–µ—Ç—ã:**
- `201 Created`
  ```json
  {
      "status": "success",
      "message": "–ö–ª–∏–µ–Ω—Ç 'client1' –¥–æ–±–∞–≤–ª–µ–Ω."
  }
  ```
- `400 Bad Request`
  ```json
  {
      "status": "error",
      "message": "–ò–º—è –∏ —Ñ–æ—Ä–º—É–ª–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã."
  }
  ```
- `409 Conflict`
  ```json
  {
      "status": "error",
      "message": "–ö–ª–∏–µ–Ω—Ç 'client1' —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç."
  }
  ```

#### 2. üóëÔ∏è –£–¥–∞–ª–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞
**`DELETE`** `/delete_client/<name>`

–£–¥–∞–ª—è–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞ –ø–æ –∏–º–µ–Ω–∏.

**–û—Ç–≤–µ—Ç—ã:**
- `200 OK`
  ```json
  {
      "status": "success",
      "message": "–ö–ª–∏–µ–Ω—Ç 'client1' —É–¥–∞–ª–µ–Ω."
  }
  ```
- `404 Not Found`
  ```json
  {
      "status": "error",
      "message": "–ö–ª–∏–µ–Ω—Ç 'client1' –Ω–µ –Ω–∞–π–¥–µ–Ω."
  }
  ```

#### 3. üîÑ –û–±–Ω–æ–≤–∏—Ç—å —Ñ–æ—Ä–º—É–ª—É
**`PUT`** `/update_client_formula`

–û–±–Ω–æ–≤–ª—è–µ—Ç —Ñ–æ—Ä–º—É–ª—É –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞.

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
    "name": "client1",
    "new_formula": "payment * 0.2"
}
```

**–û—Ç–≤–µ—Ç—ã:**
- `200 OK`
  ```json
  {
      "status": "success",
      "message": "–§–æ—Ä–º—É–ª–∞ –∫–ª–∏–µ–Ω—Ç–∞ 'client1' –æ–±–Ω–æ–≤–ª–µ–Ω–∞."
  }
  ```
- `400 Bad Request`
  ```json
  {
      "status": "error",
      "message": "–ò–º—è –∏ –Ω–æ–≤–∞—è —Ñ–æ—Ä–º—É–ª–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã."
  }
  ```
- `404 Not Found`

#### 4. üí∞ –†–∞—Å—Å—á–∏—Ç–∞—Ç—å –ø–ª–∞—Ç–µ–∂
**`POST`** `/calculate_payment`

–í—ã—á–∏—Å–ª—è–µ—Ç –ø–ª–∞—Ç–µ–∂ –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –µ–≥–æ —Ñ–æ—Ä–º—É–ª—ã.

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
    "client_name": "client1",
    "payment": 1000
}
```

**–û—Ç–≤–µ—Ç—ã:**
- `200 OK`
  ```json
  {
      "status": "success",
      "payment": 100.0,
      "formula": "payment * 0.1"
  }
  ```
- `400 Bad Request`
  ```json
  {
      "status": "error",
      "message": "–ò–º—è –∫–ª–∏–µ–Ω—Ç–∞ –∏ —Å—É–º–º–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã."
  }
  ```
- `404 Not Found`

#### 5. üìú –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤
**`GET`** `/get_all_clients`

–ü–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤.

**–û—Ç–≤–µ—Ç—ã:**
- `200 OK`
  ```json
  {
      "status": "success",
      "clients": [
          [1, "client1", "payment * 0.1"],
          [2, "client2", "payment * 0.2"]
      ]
  }
  ```

### üë®üíª –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º–∏

#### 6. ‚ûï –î–æ–±–∞–≤–∏—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
**`POST`** `/add_admin`

–î–æ–±–∞–≤–ª—è–µ—Ç –Ω–æ–≤–æ–≥–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
    "id": "123123123"
}
```

**–û—Ç–≤–µ—Ç—ã:**
- `201 Created`
  ```json
  {
      "status": "success",
      "message": "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä '123123123' –¥–æ–±–∞–≤–ª–µ–Ω."
  }
  ```
- `400 Bad Request`
  ```json
  {
      "status": "error",
      "message": "ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω."
  }
  ```
- `409 Conflict`

#### 7. üóëÔ∏è –£–¥–∞–ª–∏—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
**`DELETE`** `/remove_admin/<id>`

–£–¥–∞–ª—è–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.

**–û—Ç–≤–µ—Ç—ã:**
- `200 OK`
  ```json
  {
      "status": "success",
      "message": "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä '123123123' —É–¥–∞–ª–µ–Ω."
  }
  ```
- `400 Bad Request`
- `404 Not Found`

## ‚ö†Ô∏è –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
–í—Å–µ –æ—à–∏–±–∫–∏ —Å–ª–µ–¥—É—é—Ç —ç—Ç–æ–º—É —Ñ–æ—Ä–º–∞—Ç—É:
```json
{
    "status": "error",
    "message": "–û–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏"
}
```

## üö¶ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
```
pip install flask
python restapi.py
```

## üìå –ü—Ä–∏–º–µ—á–∞–Ω–∏—è
- üîí –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
- üìÅ –§–∞–π–ª –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- üìã –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤/–æ—Ç–≤–µ—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ñ–æ—Ä–º–∞—Ç JSON (–¢–∞–∫–∂–µ –æ–Ω–∏ –±—ã–ª–∏ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω—ã –Ω–∞ —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫ –¥–ª—è —ç—Ç–æ–≥–æ Readme —Ñ–∞–π–ª–∞)
- üêç –¢—Ä–µ–±—É–µ—Ç—Å—è Python 3.8+ –∏ Flask 2.0+
- üí° –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Postman –∏–ª–∏ Insomnia –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API!
